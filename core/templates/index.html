{% extends 'plantilla.html' %}
{% load static %}
{% load humanize %}
{% block links %}
  <link rel="stylesheet" href="{% static 'css/index.css' %}" />
{% endblock %}

{% block content %}
  <header class="mb-5">
    <div id="carousel" class="carousel slide my-4 container-fluid" data-bs-ride="carousel" data-bs-theme="dark">
      <div class="carousel-inner">
        <div class="carousel-item active">
          <a href=""><img src="{% static 'img-carousel/1.png' %}" class="d-block w-100" alt="Promoción Días Samsung" /></a>
        </div>
        <div class="carousel-item">
          <a href=""><img src="{% static 'img-carousel/2.png' %}" class="d-block w-100" alt="Producto 3" /></a>
        </div>
        <div class="carousel-item">
          <a href=""><img src="{% static 'img-carousel/3.png' %}" class="d-block w-100" alt="Producto 4" /></a>
        </div>
      </div>
      <button class="carousel-control-prev" type="button" data-bs-target="#carousel" data-bs-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Anterior</span>
      </button>
      <button class="carousel-control-next" type="button" data-bs-target="#carousel" data-bs-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Siguiente</span>
      </button>
    </div>
    <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h1 class="modal-title fs-5 fw-bold" id="exampleModalLabel">Iniciar Sesion</h1>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body border-bottom-0 m-auto">
            <div id="rut-login" class="text-center">
              <label class="form-label" for="rut-login">RUT</label>
              <input type="text" id="f.rut-login" class="form-control border-dark border-opacity-50" placeholder="12765832-9" />
              <div id="contraseña-login" class="mt-3 mb-3">
                <label class="form-label" for="contraseña-login">Password</label>
                <input type="password" id="f.contraseña-login" class="form-control border-dark border-opacity-50" placeholder="Tu Contraseña" />
              </div>
              <button type="button" class="btn w-100 bg-dark text-white">Iniciar Sesión</button>
            </div>
            <div class="modal-footer text-center d-flex text-black border-top-0">
              <a href="Login.html" class="w-100 h-100"><button class="btn link-body-emphasis">¿No tienes cuenta? Regístrate</button></a>
              <a href="" class="link-body-emphasis w-100 text-decoration-none">¿Olvidaste tu contraseña?</a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </header>
  <main class="mb-5 d-flex flex-column gap-3">
    <div id="Recomendaciones-title" class="w-100 border-black border border-1 border-opacity-25 bg-white rounded-4 text-black container pt-3 pb-3 rounded-2 text-center">
      <span class="fw-bold">Te Recomendamos</span>
    </div>
    <div class="container">
      <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4">
        {% for producto in productos %}
          <div id="card" class="col pointe">
            <div class="card rounded-3">
                <div class="card-header bg-white">
                  <div class="d-flex w-100 justify-content-between">
                    <div class="text-black fw-semibold">{{ producto.id_marca.nombre }}</div>
                    <div class="text-black-50 fw-light">{{ producto.id_tipo_producto.nombre }}</div>
                  </div>
                  <div class="py-2">{{ producto.descripcion }}</div>
                </div>
                <div class="card-body border-black">
                  <div class="d-flex justify-content-between">
                    <div class="text-black fw-light">UID: {{ producto.id }}</div>
                  </div>
                  <div id="image-card" style="background-image: url({{ producto.imagen }});"></div>
                </div>
              <div class="card-footer d-flex bg-white w-100 justify-content-between align-items-center">
                <h6 class="text-black-50 fw-light">Quedan {{ producto.stock }} Unid.</h6>
                <h6 class="text-black fs-5 fw-semibold">${{ producto.precio|intcomma }}</h6>
              </div>
            </div>
            <div id="carritodetalle" class="opacity-0 d-flex justify-content-around rounded-3 align-items-center">
              <div id="carritobtn" class="d-flex justify-content-center align-items-center">
                <a href="{% url "addToCar" producto.id %}" class="text-decoration-none bg-black px-3 py-2 text-white text-center rounded-bottom-2">
                  Añadir al carrito
                </a>
              </div>
              <div id="detallebtn" class="d-flex justify-content-center align-items-center">
                <a href="{% url 'detalle' %}" class="text-decoration-none bg-black px-3 py-2 text-white text-center rounded-bottom-2">
                  Ver Detalle</a>
              </div>
            </div>
          </div>
        {% endfor %}
      </div>
    </div>
  </main>
{% endblock %}
